{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://cambermast.com/schemas/campaigns-api.schema.json",
  "title": "Campaigns API Response",
  "type": "object",
  "additionalProperties": false,
  "required": ["version", "generatedAt", "campaigns"],
  "properties": {
    "version": { "type": "integer", "minimum": 1 },
    "generatedAt": { "type": "string", "format": "date-time" },
    "campaigns": {
      "type": "array",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "required": [
          "id",
          "partner",
          "landingPath",
          "description",
          "createdAt",
          "params",
          "trackingPath",
          "trackingUrl",
          "shortPath",
          "shortUrl"
        ],
        "properties": {
          "id": { "type": "string", "pattern": "^[a-z0-9]+(?:-[a-z0-9]+)*$" },
          "partner": { "type": "string", "minLength": 1 },
          "partnerLabel": { "type": "string", "minLength": 1 },
          "landingPath": { "type": "string", "pattern": "^/.*" },
          "description": { "type": "string", "minLength": 1 },
          "createdAt": { "type": "string", "format": "date-time" },
          "archived": { "type": "boolean" },
          "params": {
            "type": "object",
            "additionalProperties": { "type": "string" },
            "required": ["utm_source", "utm_medium", "utm_campaign", "utm_content", "src", "ad"],
            "properties": {
              "utm_source": { "type": "string" },
              "utm_medium": { "type": "string" },
              "utm_campaign": { "type": "string" },
              "utm_content": { "type": "string", "pattern": "^[a-z0-9]+(?:-[a-z0-9]+)*$" },
              "src": { "type": "string" },
              "ad": { "type": "string" }
            }
          },
          "trackingPath": { "type": "string", "pattern": "^/.*" },
          "trackingUrl": { "type": "string", "pattern": "^https?://" },
          "shortPath": { "type": "string", "pattern": "^/c/" },
          "shortUrl": { "type": "string", "pattern": "^https?://" }
        }
      }
    }
  }
}
